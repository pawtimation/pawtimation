import React,{useEffect,useState} from 'react';import { API_BASE } from '../config'
export function TrustCard({sitterId='s1',onBack}){const [agreements,setAgreements]=useState([]);useEffect(()=>{fetch(`${API_BASE}/sitters/${sitterId}/agreements`).then(r=>r.json()).then(j=>setAgreements(j.agreements||[]))},[sitterId]);return(<div className='mt-6 space-y-4'><button className='px-3 py-1 bg-slate-200 rounded' onClick={onBack}>← Back</button><div className='p-5 bg-white rounded shadow-card'><h2 className='text-xl font-semibold mb-2'>Trust & Compliance</h2><div className='mt-4 space-y-3'>{agreements.map(a=>(<div key={a.id} className='border rounded p-3'><div className='font-semibold'>{a.type} <span className='text-xs text-slate-500'>v{a.version}</span></div><div className='text-sm text-slate-600'>Signed: {new Date(a.signedAt).toLocaleString()}</div><div className='text-sm text-slate-600'>Hash: {a.hash}</div><a href={a.url} className='text-sky-700 underline' target='_blank'>View PDF</a></div>))}{agreements.length===0&&<div className='text-slate-600'>No agreements found.</div>}</div></div><div className='p-5 bg-white rounded shadow-card'><h3 className='font-semibold mb-2'>Cancellation Policy (UK)</h3><ul className='list-disc ml-5 text-slate-700'><li><b>7+ days before</b> start: full refund</li><li><b>3–6 days before</b>: 50% of booking value forfeited</li><li><b>Under 48 hours</b>: 100% of first day (or 50% of total, whichever is higher)</li><li>After start: pro‑rata for unused days at the sitter’s discretion</li></ul><p className='text-xs text-slate-500 mt-2'>Shown before payment and included in e‑mail receipts. Subject to UK consumer law.</p></div></div>)}
