ğŸš€ PHASE 3 OVERVIEW

This phase includes the next critical, non-branding jobs:

1ï¸âƒ£ Beta Feedback + Telemetry Infrastructure (Patch 3A)

â†’ Capture bugs, confusion & ideas across Admin, Staff, Client + homepage.
â†’ Daily founder summary email.
â†’ Full internal dashboard.

2ï¸âƒ£ Hide Demo Logins + Founder-Only Access (Patch 3B)

â†’ Remove demo accounts from public login screens.
â†’ Only SUPER_ADMIN can spawn demo sessions.
â†’ Protect product from abuse & data leakage.

3ï¸âƒ£ Pricing Tier Framework (Patch 3C)

â†’ No UI redesign yet.
â†’ Add business.plan, tier flags, tier limits (staff counts, features), and enforcement.
â†’ Does NOT implement payment yet â€” just the safe, permanent plan architecture.

â¸»

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

ğŸ”¥ PATCH 3A: Feedback & Telemetry System

(No core CRM changes â€” additive only)

Goal

A fully automated system that captures all user feedback + errors, organises them, and gives you a daily report.

1. Database Tables

Create new table: feedback_items

Fields:
	â€¢	id
	â€¢	businessId (nullable)
	â€¢	userId (nullable)
	â€¢	userRole (ADMIN / STAFF / CLIENT / ANON)
	â€¢	source (CHAT_WIDGET, BETA_WIZARD, CHECKLIST, OTHER)
	â€¢	category (BUG, CONFUSION, IDEA, PRAISE, OTHER)
	â€¢	domain (BOOKINGS, STAFF, CLIENTS, FINANCE, MOBILE_UI, ROUTES, OTHER)
	â€¢	severity (LOW, MEDIUM, HIGH, CRITICAL) â€” default MEDIUM
	â€¢	title
	â€¢	description
	â€¢	context (json)
	â€¢	status (OPEN, ACKNOWLEDGED, IN_PROGRESS, RESOLVED, WONT_FIX)
	â€¢	occurrenceCount
	â€¢	createdAt
	â€¢	updatedAt
	â€¢	lastSeenAt

This table must NOT affect any existing flows.

â¸»

2. Widget Integration

Enhance existing bottom-right widget:
	â€¢	Show 3 options:
	â€¢	â€œIâ€™ve found a bugâ€
	â€¢	â€œSomething is confusingâ€
	â€¢	â€œIâ€™ve got an ideaâ€
	â€¢	Collect:
	â€¢	title
	â€¢	description
	â€¢	auto-context (route, browser, OS, device, planStatus)
	â€¢	Submit to POST /api/feedback/create

â¸»

3. Domain Auto-Detection

Map route â†’ domain:
	â€¢	/calendar, /jobs â†’ BOOKINGS
	â€¢	/staff â†’ STAFF
	â€¢	/clients â†’ CLIENTS
	â€¢	/finance, /invoices â†’ FINANCE
	â€¢	/routes, map screens â†’ ROUTES
	â€¢	/dashboard â†’ MOBILE_UI if on mobile

â¸»

4. Internal Founder Dashboard

Create new screen ONLY for SUPER_ADMIN:

Route: /owner/feedback

Must show:
	â€¢	Filters (domain, category, severity, date range)
	â€¢	Table of feedback items
	â€¢	Status-changing UI (OPEN â†’ RESOLVED etc.)
	â€¢	Charts:
	â€¢	Last 24h volume
	â€¢	Last 7 days trend
	â€¢	Top domains
	â€¢	Critical issues

â¸»

5. Daily Summary Email

Create scheduled job (same cron system as founder email):

At 21:00 UK time, send:
	â€¢	Summary for last 24h
	â€¢	Breakdown by domain
	â€¢	Breakdown by category
	â€¢	Top 10 issues sorted by:
	â€¢	CRITICAL
	â€¢	HIGH
	â€¢	occurrenceCount

Send to: hello@pawtimation.co.uk

If email fails â†’ log only.

â¸»

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

ğŸ”¥ PATCH 3B: Hide Demo Logins & Restrict to You

Goal:
Remove demo accounts from all login screens so the public cannot access them.

Rules
	1.	Remove any visible buttons/links for â€œLogin as Demo Adminâ€, â€œDemo Clientâ€, â€œDemo Staffâ€ from:
	â€¢	homepage
	â€¢	login pages
	â€¢	mobile login
	2.	Keep the demo accounts in the database (for QA).
	3.	Allow ONLY SUPER_ADMIN to access demo accounts through two mechanisms:

A. New Owner Portal Action

Inside /owner/businesses add buttons:
	â€¢	Login as Demo Admin
	â€¢	Login as Demo Staff
	â€¢	Login as Demo Client

These must:
	â€¢	Create a temporary JWT with correct role
	â€¢	Open in new tab
	â€¢	Show banner â€œYou are viewing as DEMO ACCOUNTâ€
	â€¢	Auto-expire after 4 hours

B. Public should never see demo access
	â€¢	Do not show demo credentials in UI
	â€¢	Do not show demo buttons
	â€¢	Do not allow login unless SUPER_ADMIN

This protects your live environment.

â¸»

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

ğŸ”¥ PATCH 3C: Pricing Tier Framework (No Stripe yet)

Goal:
Add the underlying Plan Architecture.
No UI changes. No payment logic yet.

1. Extend businesses table

Add:
	â€¢	plan (FREE, SOLO, TEAM, GROWING, AGENCY)
	â€¢	planStatus (FREE_TRIAL, BETA, PAID, SUSPENDED)
	â€¢	trialEndsAt
	â€¢	paidAt
	â€¢	isPlanLocked (boolean, default false)

Replit must NOT apply any pricing logic yet.

â¸»

2. Feature Flags

Add table: business_features

Flags include:
	â€¢	premiumDashboards
	â€¢	gpsWalkRoutes
	â€¢	automations
	â€¢	referralBoost
	â€¢	multiStaff
	â€¢	routeOptimisation

Tiers will set these.

â¸»

3. Tier Enforcement Layer (lightweight)

Create a new backend helper:

checkFeatureAccess(businessId, featureKey)

Return:
	â€¢	ALLOWED
	â€¢	NOT_ALLOWED (with reason: tier restriction)

This must NOT break existing behaviour yet.

Do NOT block features today.
Just produce logs showing where restrictions would apply later.

â¸»

4. Staff Count Limits

Prepare limits:
	â€¢	SOLO: 1
	â€¢	TEAM: 5
	â€¢	GROWING: 15
	â€¢	AGENCY: unlimited

Do not enforce yet â€” only log warnings.

â¸»

5. Pricing Screen Placeholder

Do NOT design fully.

Add route:
/pricing
text-only placeholder:
â€œPlans coming January 2025â€

For now this supports beta â†’ trial â†’ paid progression.

â¸»

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”