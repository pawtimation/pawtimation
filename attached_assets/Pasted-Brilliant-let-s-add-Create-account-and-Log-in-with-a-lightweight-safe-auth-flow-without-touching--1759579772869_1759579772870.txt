Brilliant‚Äîlet‚Äôs add Create account and Log in (with a lightweight, safe auth flow) without touching the rest of your app.

Below is a single copy-paste patch for your Replit Agent. It adds:
	‚Ä¢	API: register/login/logout, JWT tokens, cookies (dev-friendly)
	‚Ä¢	Front-end: Login.jsx, Register.jsx, tiny auth helper, header buttons
	‚Ä¢	Keeps everything in British English, minimal UI, works with your current dashboard

‚∏ª

üêæ PASTE THIS WHOLE MESSAGE INTO REPLIT‚ÄôS AGENT

Patch only ‚Äî do not change unrelated files.
Add simple e-mail/password auth (register, login, logout) + UI pages, wired to existing sitter dashboard. Keep styles consistent.

0) Dependencies

Add these to apps/api package.json (or install):

@fastify/jwt @fastify/cookie bcryptjs

1) API: enable JWT + cookies and register auth routes

Edit apps/api/src/index.js and add near the top:

import jwt from '@fastify/jwt';
import cookie from '@fastify/cookie';

await app.register(cookie, { hook: 'onRequest' });
await app.register(jwt, { secret: process.env.JWT_SECRET || 'dev-secret-change-me' });

Also register routes (once):

await app.register((await import('./authRoutes.js')).default, { prefix: '/auth' });

2) API: auth routes (register/login/logout/me)

Create apps/api/src/authRoutes.js:

import bcrypt from 'bcryptjs';

// In-memory fallback user store for MVP (replace with DB later)
const users = new Map(); // key: email, value: { id, email, name, passHash, sitterId }

export default async function authRoutes(app){

  function publicUser(u){ return { id: u.id, email: u.email, name: u.name, sitterId: u.sitterId }; }

  app.post('/register', async (req, reply) => {
    const { email='', password='', name='' } = req.body || {};
    if (!email || !password) return reply.code(400).send({ error: 'email_password_required' });
    if (users.has(email)) return reply.code(409).send({ error: 'email_exists' });

    const passHash = await bcrypt.hash(password, 10);
    const id = `u_${Date.now()}`;
    const sitterId = `s_${Date.now()}`; // auto-provision a sitter profile id
    const user = { id, email: email.toLowerCase(), name: name || 'New Companion', passHash, sitterId };
    users.set(user.email, user);

    const token = app.jwt.sign({ sub: id, email: user.email, sitterId });
    reply.setCookie('token', token, { httpOnly: true, sameSite: 'lax', path: '/' });
    return { token, user: publicUser(user) };
  });

  app.post('/login', async (req, reply) => {
    const { email='', password='' } = req.body || {};
    const u = users.get(email.toLowerCase());
    if (!u) return reply.code(401).send({ error: 'invalid_credentials' });
    const ok = await bcrypt.compare(password, u.passHash);
    if (!ok) return reply.code(401).send({ error: 'invalid_credentials' });
    const token = app.jwt.sign({ sub: u.id, email: u.email, sitterId: u.sitterId });
    reply.setCookie('token', token, { httpOnly: true, sameSite: 'lax', path: '/' });
    return { token, user: publicUser(u) };
  });

  app.post('/logout', async (req, reply) => {
    reply.clearCookie('token', { path: '/' });
    return { ok: true };
  });

  app.get('/me', async (req, reply) => {
    try {
      const token = req.cookies?.token || (req.headers.authorization||'').replace('Bearer ', '');
      const payload = app.jwt.verify(token);
      const u = [...users.values()].find(x => x.id === payload.sub);
      if (!u) return reply.code(401).send({ error: 'unauthenticated' });
      return { user: publicUser(u) };
    } catch {
      return reply.code(401).send({ error: 'unauthenticated' });
    }
  });
}

Note: For production, move users to a database and set JWT_SECRET in Replit Secrets.

3) Front-end helper: auth store + fetch wrapper

Create apps/web/src/lib/auth.js:

import { API_BASE } from '../config';

export const auth = {
  get token(){ return localStorage.getItem('pt_token') || ''; },
  set token(v){ if (v) localStorage.setItem('pt_token', v); else localStorage.removeItem('pt_token'); },
  get user(){ try { return JSON.parse(localStorage.getItem('pt_user')||'null'); } catch { return null; } },
  set user(v){ if (v) localStorage.setItem('pt_user', JSON.stringify(v)); else localStorage.removeItem('pt_user'); }
};

export async function api(path, opts={}){
  const headers = { 'Content-Type':'application/json', ...(opts.headers||{}) };
  if (auth.token) headers.Authorization = `Bearer ${auth.token}`;
  const r = await fetch(`${API_BASE}${path}`, { credentials:'include', ...opts, headers });
  return r;
}

4) Pages: Register and Login

Create apps/web/src/screens/Register.jsx:

import React, { useState } from 'react';
import { api } from '../lib/auth';

export function Register({ onSuccess, onBack }){
  const [f, setF] = useState({ name:'', email:'', password:'' });
  const [err, setErr] = useState('');

  async function submit(e){
    e.preventDefault(); setErr('');
    const r = await api('/auth/register', { method:'POST', body: JSON.stringify(f) });
    const j = await r.json();
    if(!r.ok){ setErr(j?.error || 'Could not register'); return; }
    localStorage.setItem('pt_token', j.token);
    localStorage.setItem('pt_user', JSON.stringify(j.user));
    onSuccess?.(j.user);
  }

  return (
    <div className="space-y-4 max-w-md">
      <div className="flex items-center justify-between">
        <h2 className="text-xl font-semibold">Create your account</h2>
        <button className="px-3 py-1 bg-slate-200 rounded" onClick={onBack}>‚Üê Back</button>
      </div>
      {err && <div className="text-rose-600 text-sm">{err}</div>}
      <form onSubmit={submit} className="space-y-3">
        <input className="border rounded w-full px-3 py-2" placeholder="Full name" value={f.name} onChange={e=>setF({...f, name:e.target.value})}/>
        <input className="border rounded w-full px-3 py-2" placeholder="Email" type="email" value={f.email} onChange={e=>setF({...f, email:e.target.value})}/>
        <input className="border rounded w-full px-3 py-2" placeholder="Password" type="password" value={f.password} onChange={e=>setF({...f, password:e.target.value})}/>
        <button type="submit" className="px-4 py-2 bg-emerald-600 text-white rounded w-full">Create account</button>
      </form>
      <div className="text-sm text-slate-600">By continuing you agree to the Pawtimation Terms.</div>
    </div>
  );
}

Create apps/web/src/screens/Login.jsx:

import React, { useState } from 'react';
import { api } from '../lib/auth';

export function Login({ onSuccess, onBack }){
  const [f, setF] = useState({ email:'', password:'' });
  const [err, setErr] = useState('');

  async function submit(e){
    e.preventDefault(); setErr('');
    const r = await api('/auth/login', { method:'POST', body: JSON.stringify(f) });
    const j = await r.json();
    if(!r.ok){ setErr('Incorrect email or password'); return; }
    localStorage.setItem('pt_token', j.token);
    localStorage.setItem('pt_user', JSON.stringify(j.user));
    onSuccess?.(j.user);
  }

  return (
    <div className="space-y-4 max-w-md">
      <div className="flex items-center justify-between">
        <h2 className="text-xl font-semibold">Sign in</h2>
        <button className="px-3 py-1 bg-slate-200 rounded" onClick={onBack}>‚Üê Back</button>
      </div>
      {err && <div className="text-rose-600 text-sm">{err}</div>}
      <form onSubmit={submit} className="space-y-3">
        <input className="border rounded w-full px-3 py-2" placeholder="Email" type="email" value={f.email} onChange={e=>setF({...f, email:e.target.value})}/>
        <input className="border rounded w-full px-3 py-2" placeholder="Password" type="password" value={f.password} onChange={e=>setF({...f, password:e.target.value})}/>
        <button type="submit" className="px-4 py-2 bg-slate-800 text-white rounded w-full">Sign in</button>
      </form>
    </div>
  );
}

5) Wire into your existing app shell

Edit apps/web/src/screens/App.jsx:
	‚Ä¢	Import pages at the top:

import { Login } from './Login';
import { Register } from './Register';
import { SitterDashboard } from './SitterDashboard';
import { auth } from '../lib/auth';

	‚Ä¢	Add simple view states (near your other view logic):

// views: 'landing' | 'login' | 'register' | 'sitters'

	‚Ä¢	Add header buttons (right side) ‚Äî show ‚ÄúSign in / Create account‚Äù when logged out, or ‚ÄúDashboard / Sign out‚Äù when logged in:

{!auth.user ? (
  <div className="flex gap-2">
    <button className="px-3 py-1 rounded bg-slate-200" onClick={()=>setView('login')}>Sign in</button>
    <button className="px-3 py-1 rounded bg-emerald-600 text-white" onClick={()=>setView('register')}>Create account</button>
  </div>
) : (
  <div className="flex gap-2 items-center">
    <span className="text-sm text-slate-600">Hi, {auth.user.name}</span>
    <button className="px-3 py-1 rounded bg-slate-200" onClick={()=>setView('sitters')}>Dashboard</button>
    <button className="px-3 py-1 rounded bg-rose-600 text-white" onClick={()=>{
      auth.token = ''; auth.user = null; fetch('/api/auth/logout',{method:'POST'}); setView('landing');
    }}>Sign out</button>
  </div>
)}

	‚Ä¢	Add the routes in your view switch:

{view === 'login'     && <Login    onSuccess={(u)=>{ setView('sitters'); }} onBack={()=>setView('landing')} />}
{view === 'register'  && <Register onSuccess={(u)=>{ setView('sitters'); }} onBack={()=>setView('landing')} />}
{view === 'sitters'   && <SitterDashboard sitterId={(auth.user?.sitterId)||'s1'} onBack={()=>setView('landing')} />}

6) Secrets (once)

In Replit Secrets, set:
	‚Ä¢	JWT_SECRET = a random string (e.g. pawm8-3e2-9fdx-secret)

7) Manual QA
	‚Ä¢	Click Create account ‚Üí fill name, e-mail, password ‚Üí it should take you straight to Pet Companion dashboard (using your new sitterId).
	‚Ä¢	Sign out ‚Üí Sign in again ‚Üí returns to dashboard.
	‚Ä¢	Refresh page ‚Äî you should still be signed in (token in localStorage + cookie).
	‚Ä¢	/api/auth/me returns your user JSON when logged in.

End patch.

‚∏ª

When that‚Äôs applied, you‚Äôll have a working Register / Login flow bound to the sitter dashboard. Next, I can add the Documents & Photos UI (profile photo, ID/licence/insurance upload, certificate gallery) to complete your Trainee/Pro verification‚Äîjust say the word and I‚Äôll send the drop-in patch.