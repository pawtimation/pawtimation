Hi Replit, I need a code-focused audit so ChatGPT can work with the real current state of the system, not summaries.

Please do two things:

‚∏ª

1Ô∏è‚É£ DUMP FULL CODE FOR KEY FILES (NO SUMMARIES)

Please provide the full, current content of each of these files, verbatim:

Backend (API):
	1.	apps/api/src/routes/jobRoutes.js
	2.	apps/api/src/routes/invoiceRoutes.js
	3.	apps/api/src/routes/clientRoutes.js
	4.	apps/api/src/routes/staffRoutes.js
	5.	apps/api/src/routes/businessSettingsRoutes.js
	6.	apps/api/src/authRoutes.js
	7.	apps/api/src/repo.js
	8.	apps/api/src/store.js

Frontend (Web):
	9.	apps/web/src/screens/App.jsx
	10.	apps/web/src/components/BookingFormModal.jsx
	11.	apps/web/src/screens/admin/AdminBookings.jsx (or whatever file renders the main bookings list + ‚ÄúCreate Booking‚Äù button)
	12.	apps/web/src/screens/admin/AdminCalendar.jsx
	13.	apps/web/src/screens/admin/mobile/AdminMobileJobDetail.jsx
	14.	apps/web/src/screens/staff/StaffCalendar.jsx (or equivalent)
	15.	apps/web/src/screens/staff/StaffJobs.jsx (or equivalent)
	16.	apps/web/src/screens/client/ClientBookings.jsx
	17.	apps/web/src/lib/api.js or apps/web/src/lib/auth.js (whichever defines the api() helper)

üëâ Important:
	‚Ä¢	Please do not summarise these files.
	‚Ä¢	I need the full code for ChatGPT to align with the actual implementation.

You can precede each with a header like:

// FILE: apps/api/src/routes/jobRoutes.js
...full code here...


‚∏ª

2Ô∏è‚É£ VERIFY THESE CRITICAL FLOWS ARE WIRED AS YOU SAY IN THE BIG AUDIT

Using the actual code, please confirm yes/no + very short explanation for each of these:

A. Booking Statuses (Source of Truth)
	1.	What are the exact status values used for jobs/bookings in:
	‚Ä¢	repo.js
	‚Ä¢	jobRoutes.js
	‚Ä¢	all booking-related frontend components?
	2.	Are these status values now fully standardised across backend & frontend
(e.g. only: PENDING, BOOKED, COMPLETED, CANCELLED)?
	3.	Which status actually triggers invoice creation in repo.js?

‚∏ª

B. Booking Form ‚Üí Staff ‚Üí Calendar ‚Üí Invoice Chain
Using the actual code, verify:
	1.	Admin creates a booking in the web UI:
	‚Ä¢	Which component fires the request?
	‚Ä¢	Which endpoint does it call? (exact path)
	‚Ä¢	What fields are sent (clientId, dogIds, serviceId, staffId, start, etc.)?
	2.	When a booking‚Äôs status is changed to COMPLETED:
	‚Ä¢	Which route is called?
	‚Ä¢	Which function in repo.js runs?
	‚Ä¢	Where is the invoice created?
	3.	When a job is assigned a staff member:
	‚Ä¢	Which field in the DB is used (staffId)?
	‚Ä¢	How does that propagate to:
	‚Ä¢	Admin calendar
	‚Ä¢	Staff calendar
	‚Ä¢	Any staff job list page?
	4.	Are the admin calendar, staff calendar, and client booking views all reading from the same underlying jobs data and statuses, or is any view using legacy/old data models?

‚∏ª

C. Client & Service Dropdowns in Booking Form
Please confirm:
	1.	In BookingFormModal.jsx (or current file for admin booking creation):
	‚Ä¢	How are clients loaded?
	‚Ä¢	Which endpoint is used?
	‚Ä¢	Is it filtered by businessId?
	‚Ä¢	How are services loaded?
	‚Ä¢	Which endpoint is used?
	‚Ä¢	Is it filtered by businessId?
	2.	Is the booking form still using any direct import of repo on the frontend instead of HTTP API calls? (That was previously an issue.)

‚∏ª

D. Invoices & Finance
	1.	When an invoice is created:
	‚Ä¢	Which function in repo.js does it?
	‚Ä¢	Which fields are stored? (businessId, clientId, jobId, amountCents, status, etc.)
	2.	Which API routes are used by the Invoices tab in the admin UI to:
	‚Ä¢	List invoices
	‚Ä¢	View a single invoice
	‚Ä¢	Download or generate a PDF

‚∏ª

3Ô∏è‚É£ FORMAT

Please return:
	1.	All requested file contents (full code)
	2.	Then a short Q&A section answering A‚ÄìD above (as bullet points is fine)

This will allow ChatGPT to:
	‚Ä¢	Stop guessing
	‚Ä¢	Work with the actual code
	‚Ä¢	Help design the next steps (calendar logic, invoicing flows, staff views, etc.) accurately.

Thank you.

‚∏ª
