1. REMOVE the price input completely

Find and delete the block:

<div>
  <label className="text-sm text-slate-600">Price (¬£)</label>
  <input
    type="number"
    value={form.price}
    onChange={e => updateField("price", e.target.value)}
    className="w-full border p-2 rounded mt-1"
  />
</div>

‚úî Remove it entirely.

‚∏ª

2. Auto-assign price based on selected service

Directly after the <select> for service, add:

useEffect(() => {
  if (form.serviceId && services?.length) {
    const svc = services.find(s => s.id === form.serviceId);
    if (svc) {
      updateField("priceCents", svc.priceCents);
    }
  }
}, [form.serviceId, services]);

This makes price automatic and invisible.

‚∏ª

3. Hide price from the form but still send it

Ensure form has:

priceCents: null

And in your POST call:

body: JSON.stringify({
  clientId: form.clientId,
  serviceId: form.serviceId,
  dogIds: form.dogIds,
  start: form.start,
  notes: form.notes,
  priceCents: form.priceCents    // ‚≠ê now always comes from service
})


‚∏ª

üß© PATCH B ‚Äî API (Job Creation)

File: apps/api/src/routes/jobRoutes.js

Modify the ‚ÄúCreate Job Request / Booking‚Äù section.

Replace THIS:

const job = await repo.createJob({
  businessId,
  clientId,
  serviceId,
  dogIds,
  start,
  notes: notes || '',
  status: 'REQUESTED'
});

WITH THIS:

const service = await repo.getService(serviceId);

const job = await repo.createJob({
  businessId,
  clientId,
  serviceId,
  dogIds,
  start,
  notes: notes || '',
  status: 'REQUESTED',
  priceCents: service?.priceCents ?? 0   // ‚≠ê Auto-set price
});

‚úî Price is now correctly stored on the job.

‚∏ª

üß© PATCH C ‚Äî Repo Layer Safety

File: apps/api/src/repo.js

Inside createJob(), keep existing behaviour, but ensure price is taken from job OR service:

You already have this:

priceCents:
  data.priceCents ??
  (svc && typeof svc.priceCents === 'number' ? svc.priceCents : 0),

‚úî Good ‚Äî no change required.

This means:
	‚Ä¢	Admin cannot break anything
	‚Ä¢	Price is deterministic
	‚Ä¢	Invoice always correct

‚∏ª

üß© PATCH D ‚Äî Allow admin to override price ONLY when completing the job

File:

apps/web/src/screens/admin/mobile/AdminMobileJobDetail.jsx

Find the edit mode form and add a price override field ONLY IF status === ‚ÄòCOMPLETED‚Äô or ‚ÄòCOMPLETE‚Äô.

Add:

{editing && (form.status === "COMPLETED" || form.status === "COMPLETE") && (
  <div>
    <label className="text-sm text-slate-600">Final Price (¬£)</label>
    <input
      type="number"
      value={form.priceCents / 100}
      onChange={e => updateField("priceCents", Number(e.target.value) * 100)}
      className="w-full border p-2 rounded mt-1"
    />
  </div>
)}

‚úî Only appears when completing a job
‚úî Stored in cents
‚úî Invoice generation uses correct value

‚∏ª

üß© PATCH E ‚Äî Ensure invoice uses updated price

In setJobStatus() (repo.js)

Already correct:

const amount = job.priceCents || svc?.priceCents || 0;

That means the overridden priceCents is used.
